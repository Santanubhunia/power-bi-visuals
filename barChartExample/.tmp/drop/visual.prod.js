var powerbi;!function(t){var a;!function(t){var a;!function(t){var a;!function(t){var a=function(){function t(t){console.log("Visual constructor",t),this.target=t.element;var a=this.svg=d3.select(this.target).append("svg").attr("class","tutorial-svg");this.group=a.append("g").attr("class","tutorial-g"),this.xAxis=a.append("g").attr("class","x axis"),this.yAxis=a.append("g").attr("class","y axis")}return t.converter=function(t){var a={categories:[],values:[]};if(t){var r=t.categorical;if(r){var e=r.categories,i=r.values;t.metadata.columns[0].format;if(e&&i&&e.length>0&&i.length>0)for(var n=0,s=e[0].values.length;n<s;n++){a.categories.push({value:e[0].values[n],identity:""});for(var o=0,l=i.length;o<l;o++){var u=i[o].values[n];0==o&&a.values.push({values:[]}),a.values[n].values.push(u)}}}}return a},t.prototype.update=function(a){console.log("Visual update",a);var r=a.dataViews;if(r){var e=t.converter(r[0]);console.log(e);var i=[];for(var n in e.categories){var s={cat:e.categories[n].value,val:e.values[n].values[0]};i.push(s)}var o={top:20,right:20,bottom:30,left:40},l=a.viewport.width-o.left-o.right,u=a.viewport.height-o.top-o.bottom,c=d3.scale.ordinal().domain(i.map(function(t){return t.cat})).rangeRoundBands([0,l],.1),v=d3.scale.linear().domain([0,d3.max(i,function(t){return t.val})]).range([u,0]),g=d3.svg.axis().scale(c).orient("bottom"),f=d3.svg.axis().scale(v).orient("left").ticks(10).tickFormat(d3.format(".0s")),p=this.svg,h=this.group;p.attr("width",l+o.left+o.right).attr("height",u+o.top+o.bottom),h.attr("transform","translate("+o.left+","+o.top+")");var d=(this.yAxis.attr("transform","translate("+o.left+",0)").call(f),this.xAxis.attr("transform","translate("+o.left+","+u+")").call(g),p.selectAll(".bar").data(i));d.enter().append("rect").attr("class","bar").attr("x",function(t){return console.log(t.cat),c(t.cat)}).attr("width",c.rangeBand()).attr("y",function(t){return v(t.val)}).attr("height",function(t){return u-v(t.val)}).attr("transform","translate("+o.left+",0)"),d.transition().duration(2).attr("x",function(t){return console.log(t.cat),c(t.cat)}).attr("width",c.rangeBand()).attr("y",function(t){return v(t.val)}).attr("height",function(t){return u-v(t.val)}),d.exit().transition().duration(2).remove()}},t.prototype.destroy=function(){this.svg.remove()},t}();t.Visual=a}(a=t.PBI_CV_EE638410_C33B_45C9_8D7C_40C1C4A61609||(t.PBI_CV_EE638410_C33B_45C9_8D7C_40C1C4A61609={}))}(a=t.visual||(t.visual={}))}(a=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var a;!function(a){var r;!function(a){a.PBI_CV_EE638410_C33B_45C9_8D7C_40C1C4A61609_DEBUG={name:"PBI_CV_EE638410_C33B_45C9_8D7C_40C1C4A61609_DEBUG",displayName:"barChartExample",class:"Visual",version:"1.0.0",apiVersion:"1.1.0",create:function(a){return new t.extensibility.visual.PBI_CV_EE638410_C33B_45C9_8D7C_40C1C4A61609.Visual(a)},custom:!0}}(r=a.plugins||(a.plugins={}))}(a=t.visuals||(t.visuals={}))}(powerbi||(powerbi={}));