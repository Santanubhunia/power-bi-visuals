{"visual":{"name":"barChartExample","displayName":"barChartExample","guid":"PBI_CV_EE638410_C33B_45C9_8D7C_40C1C4A61609_DEBUG","visualClassName":"Visual","version":"1.0.0","description":"Adaptation of Bar Chart from http://bl.ocks.org/mbostock/3885304","supportUrl":"","gitHubUrl":""},"apiVersion":"1.1.0","author":{"name":"David Eldersveld","email":""},"assets":{"icon":"assets/icon.png"},"externalJS":[],"style":"style/visual.less","capabilities":{"dataRoles":[{"displayName":"Category Data","name":"category","kind":"Grouping"},{"displayName":"Measure Data","name":"measure","kind":"Measure"}],"dataViewMappings":[{"categorical":{"categories":{"for":{"in":"category"},"dataReductionAlgorithm":{"top":{}}},"values":{"select":[{"bind":{"to":"measure"}}]}}}]},"content":{"js":"var powerbi;!function(t){var a;!function(t){var a;!function(t){var a;!function(t){var a=function(){function t(t){console.log(\"Visual constructor\",t),this.target=t.element;var a=this.svg=d3.select(this.target).append(\"svg\").attr(\"class\",\"tutorial-svg\");this.group=a.append(\"g\").attr(\"class\",\"tutorial-g\"),this.xAxis=a.append(\"g\").attr(\"class\",\"x axis\"),this.yAxis=a.append(\"g\").attr(\"class\",\"y axis\")}return t.converter=function(t){var a={categories:[],values:[]};if(t){var r=t.categorical;if(r){var e=r.categories,i=r.values;t.metadata.columns[0].format;if(e&&i&&e.length>0&&i.length>0)for(var n=0,s=e[0].values.length;n<s;n++){a.categories.push({value:e[0].values[n],identity:\"\"});for(var o=0,l=i.length;o<l;o++){var u=i[o].values[n];0==o&&a.values.push({values:[]}),a.values[n].values.push(u)}}}}return a},t.prototype.update=function(a){console.log(\"Visual update\",a);var r=a.dataViews;if(r){var e=t.converter(r[0]);console.log(e);var i=[];for(var n in e.categories){var s={cat:e.categories[n].value,val:e.values[n].values[0]};i.push(s)}var o={top:20,right:20,bottom:30,left:40},l=a.viewport.width-o.left-o.right,u=a.viewport.height-o.top-o.bottom,c=d3.scale.ordinal().domain(i.map(function(t){return t.cat})).rangeRoundBands([0,l],.1),v=d3.scale.linear().domain([0,d3.max(i,function(t){return t.val})]).range([u,0]),g=d3.svg.axis().scale(c).orient(\"bottom\"),f=d3.svg.axis().scale(v).orient(\"left\").ticks(10).tickFormat(d3.format(\".0s\")),p=this.svg,h=this.group;p.attr(\"width\",l+o.left+o.right).attr(\"height\",u+o.top+o.bottom),h.attr(\"transform\",\"translate(\"+o.left+\",\"+o.top+\")\");var d=(this.yAxis.attr(\"transform\",\"translate(\"+o.left+\",0)\").call(f),this.xAxis.attr(\"transform\",\"translate(\"+o.left+\",\"+u+\")\").call(g),p.selectAll(\".bar\").data(i));d.enter().append(\"rect\").attr(\"class\",\"bar\").attr(\"x\",function(t){return console.log(t.cat),c(t.cat)}).attr(\"width\",c.rangeBand()).attr(\"y\",function(t){return v(t.val)}).attr(\"height\",function(t){return u-v(t.val)}).attr(\"transform\",\"translate(\"+o.left+\",0)\"),d.transition().duration(2).attr(\"x\",function(t){return console.log(t.cat),c(t.cat)}).attr(\"width\",c.rangeBand()).attr(\"y\",function(t){return v(t.val)}).attr(\"height\",function(t){return u-v(t.val)}),d.exit().transition().duration(2).remove()}},t.prototype.destroy=function(){this.svg.remove()},t}();t.Visual=a}(a=t.PBI_CV_EE638410_C33B_45C9_8D7C_40C1C4A61609||(t.PBI_CV_EE638410_C33B_45C9_8D7C_40C1C4A61609={}))}(a=t.visual||(t.visual={}))}(a=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var a;!function(a){var r;!function(a){a.PBI_CV_EE638410_C33B_45C9_8D7C_40C1C4A61609_DEBUG={name:\"PBI_CV_EE638410_C33B_45C9_8D7C_40C1C4A61609_DEBUG\",displayName:\"barChartExample\",class:\"Visual\",version:\"1.0.0\",apiVersion:\"1.1.0\",create:function(a){return new t.extensibility.visual.PBI_CV_EE638410_C33B_45C9_8D7C_40C1C4A61609.Visual(a)},custom:!0}}(r=a.plugins||(a.plugins={}))}(a=t.visuals||(t.visuals={}))}(powerbi||(powerbi={}));","css":".visual-PBI_CV_EE638410_C33B_45C9_8D7C_40C1C4A61609_DEBUG .bar{fill:steelblue}.visual-PBI_CV_EE638410_C33B_45C9_8D7C_40C1C4A61609_DEBUG .bar:hover{fill:brown}.visual-PBI_CV_EE638410_C33B_45C9_8D7C_40C1C4A61609_DEBUG .axis{font:10px sans-serif}.visual-PBI_CV_EE638410_C33B_45C9_8D7C_40C1C4A61609_DEBUG .axis path,.visual-PBI_CV_EE638410_C33B_45C9_8D7C_40C1C4A61609_DEBUG .axis line{fill:none;stroke:#000;shape-rendering:crispEdges}.visual-PBI_CV_EE638410_C33B_45C9_8D7C_40C1C4A61609_DEBUG .x.axis path{display:none}.visual-PBI_CV_EE638410_C33B_45C9_8D7C_40C1C4A61609_DEBUG .y.axis path{display:none}","iconBase64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpBOEJGMzkxN0NBRDNFMDExQTcxQ0JFODI3ODBCQUE5RSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3NEY1QjA1NUQ0OTAxMUUwQTgxREI2NjMxMkNEMUNEMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3NEY1QjA1NEQ0OTAxMUUwQTgxREI2NjMxMkNEMUNEMyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5Mjk5RDU1ODBGRDRFMDExQTcxQ0JFODI3ODBCQUE5RSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBOEJGMzkxN0NBRDNFMDExQTcxQ0JFODI3ODBCQUE5RSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpDoNX0AAAI3SURBVHjarJRLSFVRFIY9t7SiRDGLoEEPCRJRaCSYkxCiFCXCF+LIMExQLkilgumgwkbdBuWDRC2EomhURCOjgagkXEgKLUKhidobM6H0+i34rxyPnuvEA5/rXPda/1l7739vJxKJxG3ls93+hEKhTILxJhgMftmsiPxdhHw4CfepeR8dCyjWwwB0kZy3iVgCoQ2ewnmXxhrBD7Cgr/ZQVA17fDRPw2UYhzK6G99IsBse6/0QNME+H8FT4EA/YiPqOgA1q4IMzBNuw6iKjkCpj+Av+AdnEEmD3bxfhzvuDk30HaEaLsEkXCO53rN+Bwg5qsvTuj/TjGYtx9nINhRmEx7AYWiFW7AXOuEcbPOUvIZ2mnrl+PkQUbNEh4QHNKUSDdsSBWEOlmxTEfvs26FL9Khe211if6Acgee+xo7xzMgBxfq9qPe3fgWBGN2lEnqtG9nExM7CV3jp3bDos2bKJB0nHFRxAxRpA/5CIXyHh5ABv6GZqd9dJ6iz2SjbxMMypGhJFtTlNzu3kK7xgDxpove8U66FK2A+s6nul5gVVMEL+Ak7lG/T+g9JcIOGar2CRUoogxMwpP/bLTJMB9bRhDbkk5bBUU0y3ES0xS04CBfN9RSHiY90vJK0BHaSzG9h2eejS3RJeVfdtrGzuGyd8CX7Yq6ExuCH63jaVMPkFOv6OibB6DKs2+VEQp+WYBoqERn2sVWWRNN0YurIfeL14U6YkpkLYCSG6e0yqdCxvKBLIm5FgAEAV0nKuwMYRUsAAAAASUVORK5CYII="}}